var expect = require('expect.js');
var tba = require('../thebluealliance.js')('hamzahkhan','thebluealliance v2 API node.js wrapper library','1.0.3');

describe('tba#getTeam', function() {

	var team = null;

	it('should get a team using all parameters', function(done) {
		tba.getTeam(1540, 2014, function(err, teamInfo) {
			if(teamInfo) { team = teamInfo; done();}
			else throw Error('did not get a valid team for this year');
		});
	});

	it('should get the same team w/out optional year parameter', function(done) {
		tba.getTeam(1540, function(err, teamInfo) {
			if(teamInfo) { 
				expect(team).to.eql(teamInfo);
				done();
			}
			else throw Error('did not get a valid team for this year');
		});
	});

	it('should throw an error for a nonexistant team', function(done) {
		expect(
			function() {tba.getTeam(60000, 2014, function(err, teamInfo) {
				console.log(err, teamInfo);

				if(err) throw err;
			}
		)})

		.to.throwException('Team did/does not exist in FIRST as of the desired year');
	});

});


